---
layout: post
title: 开始恢复老博客上的数据
category: 杂项
tags:
keywords:
description:
---

## 开始恢复老博客上的数据

昨天回家找到了以前的博客备份。顺便大致的翻看了下以前写的东西。不得不感叹时光飞逝，岁月如梭。

最早是05年开始写博客的，那时候博客刚做为web2.0迅速崛起。当时选了一个免费的个人博客服务，现在估计早倒闭了。主要记录的也是潘玥的一些趣事，那时她刚好二、三岁，正是最好玩的时候。

那时还在正阳上班，时间自己挤一挤还是有的，博客上的主要内容都是那时候写的。

后来wordpress流行了，自己花钱买了个空间服务把博客迁到了wordpress上。再后来到了腾讯后就很少写东西了。一个是潘玥大了，要想再记录她的成长也更困难了。另外技术上的东西多和工作相关，有些涉及到公司的保密内容，慢慢的就没弄了。

---

wordpress的备份功能还是比较好用，所有的文章可以导出成一个xml。博客模板和代码另外导出成一个压缩包。实际上这里做了一次漂亮的数据和UI逻辑的分离，哈哈。我需要的就是xml那个部分。

但是xml的内容比较乱，在网上搜了下，找到一个最简单的解决方案。到[这里](https://gist.github.com/duduzhu/4243714)把内容拷贝到一个xsl文件中，将xsl文件放到xml文件所在的目录，在xml文件开始插入一行

```
<?xml-stylesheet type=”text/xsl” href=”filename.xsl” ?>
```
这个xsl把替xml中的元素加了相应的html标签，再到浏览器中打开xml文件就不再是杂乱的数据了。

照片部分的话，可以直接把wordpress备份里的upload文件夹下的照片全部commit到github上的一个目录，然后直接替换图片链接的前缀就OK了。

---

接下去就是一篇篇的拷贝出来，手工加上md标签，再commit到github上就OK了。网上也有工具直接把wordpress的数据转成md格式，懒得去折腾了，手工转还可以顺便把以前写的东西再温习一遍。
