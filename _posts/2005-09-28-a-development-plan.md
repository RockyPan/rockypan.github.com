---
layout: post
title: 开发计划
category: 技术
tags: [其他, 网络]
keywords:
---

## 开发计划

### 起因

八月底的时候想做这个东西。具体的起因要从2004年写的那个局域网内的聊天软件说起。当时写那个软件是因为公司突然把内网的企业QQ禁掉了。所以写个来替用，边用边应同事的要求加入了很多功能。也因此对网络编程发生深厚的兴趣，那段时间上班比较轻松，所以好好的研究了一下ACE。 

今天下半年的时候和人聊起ACE，我突然发现原来花了两三个月看了几本书，全都淡忘了。原因很简单，只看没用当然忘得快。所以我想得做点什么，再说搞了大半年的“管理”，做为一个程序员的基本技能，很多都在退化。用进废退嘛。

八月底把计划告诉了几个同事，想做个聊天和玩小游戏的软件。他们现在几次问起我，很惭愧，连个雏形都没有。时间太紧了，在公司基本无法搞，在家潘玥经常来捣乱。不过如果真的想做一件事，总能抽出时间的。这是我老婆说的。 

把开发计划发布出来，也算是对自己的一个约束吧。话说出去了，做不到就很没面子了。当初我成功戒烟也用了这一招，就是第一时间把自己戒烟的消息召告天下，让大家监督自己。

### 功能简述

局域网内的聊天及游戏软件。有服务器和客户端。客户端必须通过服务器启用。聊天功能为群聊，不实现点对点的聊天，可以用悄悄话或开聊天室。服务器可以保存所有聊天记录。有用户注册管理功能，服务器保存有用户信息。另外可以玩棋牌游戏，可以记录用户的分值记录。

### 前置条件

服务器端要求层次分明，结构清晰，对于底层（通讯层）的修改（如从TCP改为UDP）不影响上层组件。上层组件及服务必须是可热插拔可配置的，即不关闭服务器的情况下增加服务（如新的游戏种类）。 

底层暂用TCP连接，不使用UDP广播或多播。这样做的原因是想所有的点对点的信息全部通过服务器中转，以加重服务器的负担，我想看看自己写的服务器在高负荷下的表现如何。以后会考虑改为UDP，做为应用层的协议全部封装到通讯层中。

服务器端使用ACE的框架及OS封装，不依赖于操作系统API。目前基于windows nt/xp开发，以后计划移植到FreeBSD。客户端基于windows开发。

### 里程碑

* M1（2005/10/15)：服务器通讯层采用单线程反应器处理所有连接。可以处理注册、登录、聊天的信息、在通讯层实现心跳协议。实现一个用于测试的客户端。两端可以正常通讯运行。
* M2(待定）：实现带用户界面的客户端，可以和服务器一起正常运行。改进用于测试的客户端，对服务器进行压力测试，改变服务器反应器线程池，再进行压力测试。记录下测试数据，出具测试报告及分析。发布源码。
* M3（待定）：服务器端及客户端加入支持“杀人游戏”的功能。将服务器通讯层改用前摄器，再次做压力测试，出测试报告及分析。
* M4（待定）：稳定服务器的结构（热插拔）。
* M5（待定）：加入双升级游戏。
* M6（待定）：移植服务器到FreeBSD。